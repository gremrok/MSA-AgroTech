### <a name="_b7urdng99y53"></a>**Название задачи: MVP архитектурного решения для мониторинга свиноводческих ферм** 
### <a name="_hjk0fkfyohdk"></a>**Автор: Терехин Алексей**
### <a name="_uanumrh8zrui"></a>**Дата: 25.12.2025**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

Компания «АгроТех Х» занимается растениеводством, имеет свой парк техники и цифровую платформу, в которую требуется добавить функционал для животноводства с автоматизацией процессов, связанных с кормлением, безопасностью и мониторингом поголовья скота.

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
|1|Дежурный|Мониторинг скота|Просматривает отчеты по метрикам с датчиков (поголовье, расход корма, инциденты)|
|2|Инженер|Мониторинг техники|Просматривает отчеты по сотоянию оборудования фермы|
|3|Edge-агенты и устройства|Камеры с ИИ-обработкой, контроллеры кормушек/поилок, датчики воды, IoT шлюзы|Передают данные и видео-стримы|
|4|Центральный сервер (на каждой ферме)|Запись данных в локальную базу, видеоаналитика в реальном времени, управление edge-устройствами, автономная работа|Отправка данных в облачный сервис|
|5|Облачный сервис|Обработка данных со всех ферм|Предоставляет данные для веб-портала|
|6|Нейронные сети и модели ИИ|Распознавание инцидентов|Пересчитывает поголовье, определяет нештатные ситуации (драки, задавливания), определяет по внешнему виду болезнь, гибель, беспокойство, записывают детали событий в БД|
|7|Веб-портал, мобильное приложение|Управление фермой|Для мониторинга в реальном времени, управления кормушками, просмотра тревог и отчетов|

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

|**№**|**Требование**|
| :-: | :- |
|1|обеспечивать достаточно высокую отказоустойчивость 99,95%|
|2|быть расширяемой, то есть иметь возможность разработать новый функционал без изменений существующего|
|3|иметь высокую производительность — от момента возникновения нештатной ситуации, зафиксированной с помощью видеоаналитики, должно проходить не более 5 секунд до момента оповещения|
|4|позволять системе видеоаналитики реагировать в реальном времени (миллисекунды)|
|5|камеры должны покрывать всю площадь и уметь снимать в ночное время суток|

### <a name="_qmphm5d6rvi3"></a>**Решение**

Создание отдельной платформы с локальной обработкой данных на центральном сервере (на каждой ферме) и синхронизацией с облачным сервисом, который будет собирать данные со всех ферм.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Расширение существующей IoT-платформы «АгроПром Х» новым модулем видеоаналитики и упрощенными ферменными шлюзами.

**Обоснование**
|**Критерий**|**Основное решение**|**Альтернативное решение**|**Обоснование выбора**|
| :-: | :- | :- | :- |
|**Соответствие NFR (Автономность, Задержка)**|	Отлично. Локальная обработка видео на ферменном сервере гарантирует оповещение <1 сек независимо от облака.|	Рискованно. Зависит от стабильности канала для видеопотоков. Задержка может превысить 5 сек при проблемах с сетью.	Для животноводства критична немедленная реакция (задавливание поросят).| Основное решение надежнее.|
|**Расширяемость до SaaS**|	Отлично. Платформа изначально проектировалась как отдельный продукт с четкими API и изоляцией.	|Сложно. Сильная привязка к внутренней архитектуре «АгроТех Х» усложнит будущее выделение.	|Соответствует долгосрочной бизнес-цели.
|**Сложность MVP**|	Выше. Требуется разработать ферменный сервер с серьезной логикой.|	Ниже. Максимальное переиспользование существующих компонентов (IoT-шлюз, портал).	|Риск увеличения сроков MVP окупается более качественной архитектурой, отвечающей ключевым требованиям.
|**Интеграция с текущими системами**|Хорошо. Четкая интеграция через Kafka для обмена бизнес-событиями.|	Отлично. Прямое использование единого портала и конвейеров данных.	|Потеря в "бесшовности" компенсируется надежностью и автономностью основного решения.
|**Управление и обновления**	|Сложнее. Требует управления ферменными серверами.|	Проще. Централизованное обновление облачных сервисов.	Для MVP на нескольких фермах это допустимая сложность.| В будущем решается инструментами типа Ansible, Docker.

**Недостатки, ограничения, риски**

Дублирование функционала: Часть инфраструктуры (логирование, аутентификация) может дублироваться с основной платформой на этапе MVP.

Увеличение стоимости разработки: Требуется больше усилий на создание ферменного сервера и синхронизации. Сроки и бюджет MVP могут быть выше, чем при альтернативном подходе.

Операционные издержки: Сложность в мониторинге и обновлении ферменных серверов.

